= turbo_frame_tag community do
  %div.community{style: "position: relative"}
    %a.community.t-1{style: "text-decoration: none","aria-current" => "true", href: community_path(community)}
      .text-muted.mt-4.pt-4
        .d-flex.border-bottom
          - if user_signed_in? && community.user.avatar.attached?
            = image_tag community.user.avatar, class: 'user-avatar'
          - else
            = image_tag 'default_avatar.png', class: 'user-avatar'          
          .pb-3.mb-0.small.w-100
            .d-flex.justify-content-between.align-items-center
              %big.text-gray-dark.pb-2{style: "font-size: 0.9rem"}
                @#{community.user.user_name}
        
            %strong.community-name.d-block.text-gray-dark{style: "font-size: 1.3rem"}
              = community.community_name
            .community-items
              - community.community_tags.each do |tag|
                %small.text-right.badge.bg-secondary
                  = "#{tag.name} (#{tag.taggings_count})"
              %small.d-block.text-gray-dark.text-end.px-1
                = "#{community.posts.size} posts"
                %br
                = "#{community.posting_users.distinct.count} users"
                %br
                = l community.created_at
    = render 'favorite_communities/favorite_communities', community: community

